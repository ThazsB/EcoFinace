<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remover Perfil - Finan√ßas em Dia</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #1e293b;
            color: #e2e8f0;
        }

        h1 {
            color: #f4a261;
        }

        .code-block {
            background: #0f172a;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: monospace;
            font-size: 12px;
            line-height: 1.5;
        }

        .btn {
            background: #f4a261;
            color: #1e293b;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }

        .btn:hover {
            background: #e76f51;
        }

        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .success {
            background: #065f46;
            color: #a7f3d0;
        }

        .error {
            background: #991b1b;
            color: #fecaca;
        }
    </style>
</head>

<body>
    <h1>üóëÔ∏è Remover Perfil "Meu Perfil"</h1>
    <p>Este script remover√° o perfil e todos os dados associados:</p>
    <ul>
        <li>Perfil: "Meu Perfil" (ID: profile_1769897599738_mtk5fun01)</li>
        <li>Dados: transa√ß√µes, or√ßamentos, metas e notifica√ß√µes</li>
    </ul>

    <div class="code-block">
        (function(){const PROFILE_ID='profile_1769897599738_mtk5fun01';const profilesKey='ecofinance_profiles';const
        profiles=JSON.parse(localStorage.getItem(profilesKey)||'[]');const
        profileIndex=profiles.findIndex(p=>p.id===PROFILE_ID);if(profileIndex===-1){console.log('Perfil n√£o
        encontrado:',PROFILE_ID);return;}const profile=profiles[profileIndex];console.log('Removendo
        perfil:',profile.name);profiles.splice(profileIndex,1);localStorage.setItem(profilesKey,JSON.stringify(profiles));const
        keysToRemove=[`ecofinance_${PROFILE_ID}_transactions`,`ecofinance_${PROFILE_ID}_budgets`,`ecofinance_${PROFILE_ID}_goals`,`ecofinance_${PROFILE_ID}_notifications`];keysToRemove.forEach(key=>{if(localStorage.getItem(key)){console.log('Removendo
        dados:',key);localStorage.removeItem(key);}});const
        activeProfile=localStorage.getItem('ecofinance_active_profile');if(activeProfile===PROFILE_ID){localStorage.removeItem('ecofinance_active_profile');if(profiles.length>0){localStorage.setItem('ecofinance_active_profile',profiles[0].id);console.log('Novo
        perfil ativo:',profiles[0].name);}}console.log('%c‚úì Perfil "'+profile.name+'" removido com
        sucesso!','color:green;font-weight:bold;font-size:14px;');})();
    </div>

    <p style="margin-top: 20px; color: #94a3b8;">
        Copie o c√≥digo acima e cole no console do navegador (F12 > Console),
        ou clique no bot√£o abaixo se estiver em uma p√°gina do mesmo dom√≠nio:
    </p>

    <button class="btn" onclick="executeScript()">Executar Remo√ß√£o</button>

    <div id="result"></div>

    <script>
        function executeScript() {
            const resultEl = document.getElementById('result');
            try {
                const PROFILE_ID = 'profile_1769897599738_mtk5fun01';
                const profilesKey = 'ecofinance_profiles';
                const profiles = JSON.parse(localStorage.getItem(profilesKey) || '[]');
                const profileIndex = profiles.findIndex(p => p.id === PROFILE_ID);

                if (profileIndex === -1) {
                    resultEl.textContent = '‚ùå Perfil n√£o encontrado!';
                    resultEl.className = 'error';
                    resultEl.style.display = 'block';
                    return;
                }

                const profile = profiles[profileIndex];
                profiles.splice(profileIndex, 1);
                localStorage.setItem(profilesKey, JSON.stringify(profiles));

                const keysToRemove = [
                    `ecofinance_${PROFILE_ID}_transactions`,
                    `ecofinance_${PROFILE_ID}_budgets`,
                    `ecofinance_${PROFILE_ID}_goals`,
                    `ecofinance_${PROFILE_ID}_notifications`
                ];

                keysToRemove.forEach(key => localStorage.removeItem(key));

                const activeProfile = localStorage.getItem('ecofinance_active_profile');
                if (activeProfile === PROFILE_ID) {
                    localStorage.removeItem('ecofinance_active_profile');
                    if (profiles.length > 0) {
                        localStorage.setItem('ecofinance_active_profile', profiles[0].id);
                    }
                }

                resultEl.innerHTML = '‚úÖ Perfil "' + profile.name + '" foi removido com sucesso!<br><br>Atualize a p√°gina (F5) para ver as altera√ß√µes.';
                resultEl.className = 'success';
                resultEl.style.display = 'block';
            } catch (e) {
                resultEl.textContent = '‚ùå Erro: ' + e.message;
                resultEl.className = 'error';
                resultEl.style.display = 'block';
            }
        }
    </script>
</body>

</html>